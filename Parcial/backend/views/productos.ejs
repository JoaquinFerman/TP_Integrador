<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Gestión de Productos</title>
  <link rel="stylesheet" href="/styles/styles.css">
</head>
<body>
  <nav class="navbar">
    <div class="marca">
      <img src="/images/logo.png" alt="Logo" class="logo">
      <span class="nombre">ElectroGaming</span>
    </div>
    <div class="nombres">
      <p>Joaquin Ferman</p>
      <p>Matias Pena</p>
    </div>
  </nav>

  <main class="container mt-4">
    <h2>Agregar nuevo producto</h2>
    <form action="/api/admin/productos" method="POST">
      <input type="text" name="nombre" placeholder="Nombre del producto" required>
      <input type="number" name="precio" step="0.01" placeholder="Precio" required>
      <input type="text" name="descripcion" placeholder="Descripción" required>
      <button type="submit">Agregar</button>
    </form>

    <hr>

    <h2>Lista de productos</h2>
    <div class="product-list">
      <% productos.forEach(producto => { %>
        <div class="product-card">
          <h3><%= producto.nombre %></h3>
          <p>Precio: $<%= Number(producto.precio).toFixed(2) %></p>
          <p><%= producto.descripcion %></p>

          <form action="/api/admin/productos/<%= producto.id %>?_method=DELETE" method="POST">
            <button type="submit">Eliminar</button>
          </form>

          <form action="/api/admin/productos/<%= producto.id %>?_method=PUT" method="POST">
            <input type="text" name="nombre" value="<%= producto.nombre %>" required>
            <input type="number" step="0.01" name="precio" value="<%= producto.precio %>" required>
            <input type="text" name="descripcion" value="<%= producto.descripcion %>" required>
            <button type="submit">Actualizar</button>
          </form>
        </div>
      <% }) %>
    </div>
  </main>
</body>
</html>
